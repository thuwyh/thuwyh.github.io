<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>OpenAI官方出品的ChatGPT调校指南你读了吗 | 多头注意力</title>
<meta name="keywords" content="openai, chatgpt, prompt, cookbook, COT">
<meta name="description" content="作为一名Prompt Engineer，每天都在跟GPT打交道，时常被他惊艳，也看过很多模型失效的案例。在不精调的情况下，prompt基本上是影响效果的唯一因素了，虽然网上有很多Prompt编写指南，但我认为OpenAI出品的这份，你一定要看一下。
这篇文章就给大家划一下重点。
ChatGPT基操 主要包含在How to work with large language models这个文档里，同时适合网页和API用户。首先，介绍了向ChatGPT提问的三种主要范式，一种是直接给指令，例如
Extract the name of the author from the quotation below. “Some humans theorize that intelligent species go extinct before they can expand into outer space. If they&#39;re correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation 模型将会输出
Ted Chiang 另一种是将指令转化为一个补全(completion)问题，例如上面那个指令改为
“Some humans theorize that intelligent species go extinct before they can expand into outer space.">
<meta name="author" content="">
<link rel="canonical" href="https://www.yuanhao.site/post/deeplearning/2023-05-04-openai-cookbook/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://www.yuanhao.site/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.yuanhao.site/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.yuanhao.site/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://www.yuanhao.site/apple-touch-icon.png">
<link rel="mask-icon" href="https://www.yuanhao.site/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="OpenAI官方出品的ChatGPT调校指南你读了吗" />
<meta property="og:description" content="作为一名Prompt Engineer，每天都在跟GPT打交道，时常被他惊艳，也看过很多模型失效的案例。在不精调的情况下，prompt基本上是影响效果的唯一因素了，虽然网上有很多Prompt编写指南，但我认为OpenAI出品的这份，你一定要看一下。
这篇文章就给大家划一下重点。
ChatGPT基操 主要包含在How to work with large language models这个文档里，同时适合网页和API用户。首先，介绍了向ChatGPT提问的三种主要范式，一种是直接给指令，例如
Extract the name of the author from the quotation below. “Some humans theorize that intelligent species go extinct before they can expand into outer space. If they&#39;re correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation 模型将会输出
Ted Chiang 另一种是将指令转化为一个补全(completion)问题，例如上面那个指令改为
“Some humans theorize that intelligent species go extinct before they can expand into outer space." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.yuanhao.site/post/deeplearning/2023-05-04-openai-cookbook/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-05-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-05-04T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OpenAI官方出品的ChatGPT调校指南你读了吗"/>
<meta name="twitter:description" content="作为一名Prompt Engineer，每天都在跟GPT打交道，时常被他惊艳，也看过很多模型失效的案例。在不精调的情况下，prompt基本上是影响效果的唯一因素了，虽然网上有很多Prompt编写指南，但我认为OpenAI出品的这份，你一定要看一下。
这篇文章就给大家划一下重点。
ChatGPT基操 主要包含在How to work with large language models这个文档里，同时适合网页和API用户。首先，介绍了向ChatGPT提问的三种主要范式，一种是直接给指令，例如
Extract the name of the author from the quotation below. “Some humans theorize that intelligent species go extinct before they can expand into outer space. If they&#39;re correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation 模型将会输出
Ted Chiang 另一种是将指令转化为一个补全(completion)问题，例如上面那个指令改为
“Some humans theorize that intelligent species go extinct before they can expand into outer space."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://www.yuanhao.site/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "OpenAI官方出品的ChatGPT调校指南你读了吗",
      "item": "https://www.yuanhao.site/post/deeplearning/2023-05-04-openai-cookbook/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "OpenAI官方出品的ChatGPT调校指南你读了吗",
  "name": "OpenAI官方出品的ChatGPT调校指南你读了吗",
  "description": "作为一名Prompt Engineer，每天都在跟GPT打交道，时常被他惊艳，也看过很多模型失效的案例。在不精调的情况下，prompt基本上是影响效果的唯一因素了，虽然网上有很多Prompt编写指南，但我认为OpenAI出品的这份，你一定要看一下。\n这篇文章就给大家划一下重点。\nChatGPT基操 主要包含在How to work with large language models这个文档里，同时适合网页和API用户。首先，介绍了向ChatGPT提问的三种主要范式，一种是直接给指令，例如\nExtract the name of the author from the quotation below. “Some humans theorize that intelligent species go extinct before they can expand into outer space. If they\u0026#39;re correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation 模型将会输出\nTed Chiang 另一种是将指令转化为一个补全(completion)问题，例如上面那个指令改为\n“Some humans theorize that intelligent species go extinct before they can expand into outer space.",
  "keywords": [
    "openai", "chatgpt", "prompt", "cookbook", "COT"
  ],
  "articleBody": "作为一名Prompt Engineer，每天都在跟GPT打交道，时常被他惊艳，也看过很多模型失效的案例。在不精调的情况下，prompt基本上是影响效果的唯一因素了，虽然网上有很多Prompt编写指南，但我认为OpenAI出品的这份，你一定要看一下。\n这篇文章就给大家划一下重点。\nChatGPT基操 主要包含在How to work with large language models这个文档里，同时适合网页和API用户。首先，介绍了向ChatGPT提问的三种主要范式，一种是直接给指令，例如\nExtract the name of the author from the quotation below. “Some humans theorize that intelligent species go extinct before they can expand into outer space. If they're correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation 模型将会输出\nTed Chiang 另一种是将指令转化为一个补全(completion)问题，例如上面那个指令改为\n“Some humans theorize that intelligent species go extinct before they can expand into outer space. If they're correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation The author of this quote is 模型也将会输出\nTed Chiang 当然上面都是理想情况，尤其是用补全形式的时候，模型可能还会继续引申出一些其他内容，这是就需要一些后处理。\n第三种称为demonstration，直白地说就是用一些例子告诉模型要干嘛，学究点说就是in-context few shot learning。还是上面的例子，输入改为\nQuote: “When the reasoning mind is forced to confront the impossible again and again, it has no choice but to adapt.” ― N.K. Jemisin, The Fifth Season Author: N.K. Jemisin Quote: “Some humans theorize that intelligent species go extinct before they can expand into outer space. If they're correct, then the hush of the night sky is the silence of the graveyard.” ― Ted Chiang, Exhalation Author: 模型也将输出\nTed Chiang 这三种范式都比较直接，尤其是前两种。而第三种就是Prompt Engineer主要的技术手段，也是LangChain、AutoGPT这些包里大量使用的技巧，后面会有单独的文章向大家介绍。\n配合这三种范式，有一些通用的提问建议\n更具体地描述你的需求，例如你想让GPT在不知道的时候不要瞎编，你可以在指令后面加上一句'Say \"I don't know\" if you do not know the answer.’ 提供更好的例子。例如让GPT来做句子的情感识别，你提供的句子和当前句子越接近，GPT给出的答案质量往往越高，这块有挺多进阶玩法。 让模型认为它是专家。例如你让他写小说，可以在一开始加一句你是一名富有文采的文学大师。朋友们，没想到模型学会了人类的臭脾气。大家平时也要多给身边人正向激励哦😊 必要的时候使用思维链。如果你让GPT做推理或者数学题，不妨在指令前面加一句Let’s think step by step试试。 GPT API使用指南 对于使用API的朋友，可玩性比网页版其实高一些，而且API的使用方式和网页版也有一些差别。\n一个典型的调用如下所示\nMODEL = \"gpt-3.5-turbo\" response = openai.ChatCompletion.create( model=MODEL, messages=[ {\"role\": \"system\", \"content\": \"You are a helpful assistant.\"}, {\"role\": \"user\", \"content\": \"Knock knock.\"}, {\"role\": \"assistant\", \"content\": \"Who's there?\"}, {\"role\": \"user\", \"content\": \"Orange.\"}, ], temperature=0, ) 其中使用的是ChatCompletion这个方法（强烈推荐大家使用这个而不是单轮的Completion），model参数指定了模型，最主要的花头都在messages参数里。这个参数输入一个list of dict，每个字典表示一轮输入或输出，字典包含两个必须的元素role和content，还有一个可选的元素name。\nsystem prompt（上面的第一条）很关键，在网页版是没有这个输入的。system prompt可以给对话设定一些基础的上下文信息，例如给模型定一个人设。GPT-4对system prompt会比gpt-3.5更加重视，如果使用3.5，那么OpenAI建议你把人设信息放在开头的user轮里。\n前面提到给模型输入的样例也可以通过虚假的对话来呈现，例如\n# An example of a faked few-shot conversation to prime the model into translating business jargon to simpler speech response = openai.ChatCompletion.create( model=MODEL, messages=[ {\"role\": \"system\", \"content\": \"You are a helpful, pattern-following assistant.\"}, {\"role\": \"user\", \"content\": \"Help me translate the following corporate jargon into plain English.\"}, {\"role\": \"assistant\", \"content\": \"Sure, I'd be happy to!\"}, {\"role\": \"user\", \"content\": \"New synergies will help drive top-line growth.\"}, {\"role\": \"assistant\", \"content\": \"Things working well together will increase revenue.\"}, {\"role\": \"user\", \"content\": \"Let's circle back when we have more bandwidth to touch base on opportunities for increased leverage.\"}, {\"role\": \"assistant\", \"content\": \"Let's talk later when we're less busy about how to do better.\"}, {\"role\": \"user\", \"content\": \"This late pivot means we don't have time to boil the ocean for the client deliverable.\"}, ], temperature=0, ) 这种玩法是网页版用户没法做到的，网页版提供的例子做few-shot实际上全是写在了某一个user轮里。\n进阶玩法 这部分内容主要包含在Techniques to improve reliability这篇文档里，介绍了一些如果模型失效后的处理方法。\n这里首先要树立的理念就是，上下文是会影响模型能力的。\n第一招是所谓的化繁为简，就是把复杂的任务拆分成几个简单的任务。\n例如下面这个让gpt用原始语言进行摘要的例子，如果你直接粗暴地说\nSummarize the text using the original language of the text. The summary should be one sentence long. Text: \"\"\" La estadística (la forma femenina del término alemán Statistik, derivado a su vez del italiano statista, \"hombre de Estado\") es una ciencia que estudia la variabilidad, colección, organización, análisis, interpretación, y presentación de los datos, ...文本太长，省略 \"\"\" Summary: 它会返回你一堆英语\nThe text explains that statistics is a science that studies the variability, collection, organization, analysis, interpretation, and presentation of data, as well as the random process that generates them following the laws of probability. 但如果你在前面让他先判断文本的语言，再摘要，他就能行，像下面这样\nFirst, identify the language of the text. Second, summarize the text using the original language of the text. The summary should be one sentence long. Text: \"\"\" La estadística (la forma femenina del término alemán S... \"\"\" 第二招是让模型先解释理由再给出答案。这个基本就是COT了。其中zero-shot的方法就是刚才提到的在prompt里加上Let's think step by step.这个方法的详情可以参考这篇论文。few-shot的方法我们在之前的文章里也介绍过，就是给几个思维链作为例子。\n第三招是fine-tune模型，这个方法很机智，是用模型来产生一大堆COT prompt，然后保留能获得正确答案的prompt，用这些数据来训练数据。finetune毕竟比较重，本文就不展开了，详情可以参考这篇论文STaR: Bootstrapping Reasoning With Reasoning。\n后面还有一些COT prompt的扩展，也令人大开眼界，但看后我感觉大部分学术味都比较浓，我只列举两个比较简单实用的。\nSelf-consistency 这个方法很好理解，就是用一个稍高的温度（增加模型的随机性）进行多次采样，然后进行多数投票。\nVerifiers 这个方法来自论文Training Verifiers to Solve Math Word Problems，适用于问题比较确定的场景，通过训练一个判别模型验证器，来选择合理的生成结果。\n训练判别器的数据来源于多次采样生成模型加人工标注，实验显示，几千条样本就可以显著提高模型的准确性。\n不管这些方法的prompt多花哨，其核心点就是两个\n把难处理的问题分解成更小、模型更容易回答正确的问题 用多步推理或者多重关系来提升模型结果的准确性 今天先写这么多，祝大家happy prompting😁\n关注公众号发送cookbook，可以获取项目地址哦。下一期聊一聊怎么用自己的数据强化大模型。\n",
  "wordCount" : "544",
  "inLanguage": "en",
  "datePublished": "2023-05-04T00:00:00Z",
  "dateModified": "2023-05-04T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.yuanhao.site/post/deeplearning/2023-05-04-openai-cookbook/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "多头注意力",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.yuanhao.site/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://www.yuanhao.site" accesskey="h" title="多头注意力 (Alt + H)">多头注意力</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://www.yuanhao.site/archive" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://www.yuanhao.site/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://www.yuanhao.site/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://www.yuanhao.site">Home</a>&nbsp;»&nbsp;<a href="https://www.yuanhao.site/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      OpenAI官方出品的ChatGPT调校指南你读了吗
    </h1>
    <div class="post-meta"><span title='2023-05-04 00:00:00 +0000 UTC'>May 4, 2023</span>&nbsp;·&nbsp;3 min

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#chatgpt%e5%9f%ba%e6%93%8d" aria-label="ChatGPT基操">ChatGPT基操</a></li>
                <li>
                    <a href="#gpt-api%e4%bd%bf%e7%94%a8%e6%8c%87%e5%8d%97" aria-label="GPT API使用指南">GPT API使用指南</a></li>
                <li>
                    <a href="#%e8%bf%9b%e9%98%b6%e7%8e%a9%e6%b3%95" aria-label="进阶玩法">进阶玩法</a><ul>
                        
                <li>
                    <a href="#self-consistency" aria-label="Self-consistency">Self-consistency</a></li>
                <li>
                    <a href="#verifiers" aria-label="Verifiers">Verifiers</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>作为一名Prompt Engineer，每天都在跟GPT打交道，时常被他惊艳，也看过很多模型失效的案例。在不精调的情况下，prompt基本上是影响效果的唯一因素了，虽然网上有很多Prompt编写指南，但我认为OpenAI出品的这份，你一定要看一下。</p>
<p>这篇文章就给大家划一下重点。</p>
<h2 id="chatgpt基操">ChatGPT基操<a hidden class="anchor" aria-hidden="true" href="#chatgpt基操">#</a></h2>
<p>主要包含在<strong><strong>How to work with large language models</strong></strong>这个文档里，同时适合网页和API用户。首先，介绍了向ChatGPT提问的三种主要范式，一种是<strong>直接给指令</strong>，例如</p>
<pre tabindex="0"><code>Extract the name of the author from the quotation below.

“Some humans theorize that intelligent species go extinct before they can expand into outer space. If they&#39;re correct, then the hush of the night sky is the silence of the graveyard.”
― Ted Chiang, Exhalation
</code></pre><p>模型将会输出</p>
<pre tabindex="0"><code>Ted Chiang
</code></pre><p>另一种是<strong>将指令转化为一个补全(completion)问题</strong>，例如上面那个指令改为</p>
<pre tabindex="0"><code>“Some humans theorize that intelligent species go extinct before they can expand into outer space. If they&#39;re correct, then the hush of the night sky is the silence of the graveyard.”
― Ted Chiang, Exhalation

The author of this quote is
</code></pre><p>模型也将会输出</p>
<pre tabindex="0"><code>Ted Chiang
</code></pre><p>当然上面都是理想情况，尤其是用补全形式的时候，模型可能还会继续引申出一些其他内容，这是就需要一些后处理。</p>
<p>第三种称为demonstration，直白地说就是用一些例子告诉模型要干嘛，学究点说就是in-context few shot learning。还是上面的例子，输入改为</p>
<pre tabindex="0"><code>Quote:
“When the reasoning mind is forced to confront the impossible again and again, it has no choice but to adapt.”
― N.K. Jemisin, The Fifth Season
Author: N.K. Jemisin

Quote:
“Some humans theorize that intelligent species go extinct before they can expand into outer space. If they&#39;re correct, then the hush of the night sky is the silence of the graveyard.”
― Ted Chiang, Exhalation
Author:
</code></pre><p>模型也将输出</p>
<pre tabindex="0"><code>Ted Chiang
</code></pre><p>这三种范式都比较直接，尤其是前两种。而第三种就是Prompt Engineer主要的技术手段，也是LangChain、AutoGPT这些包里大量使用的技巧，后面会有单独的文章向大家介绍。</p>
<p>配合这三种范式，有一些通用的提问建议</p>
<ul>
<li>更具体地描述你的需求，例如你想让GPT在不知道的时候不要瞎编，你可以在指令后面加上一句<code>'Say &quot;I don't know&quot; if you do not know the answer.’</code></li>
<li>提供更好的例子。例如让GPT来做句子的情感识别，你提供的句子和当前句子越接近，GPT给出的答案质量往往越高，这块有挺多进阶玩法。</li>
<li>让模型认为它是专家。例如你让他写小说，可以在一开始加一句<code>你是一名富有文采的文学大师</code>。朋友们，没想到模型学会了人类的臭脾气。<strong>大家平时也要多给身边人正向激励哦</strong>😊</li>
<li>必要的时候使用思维链。如果你让GPT做推理或者数学题，不妨在指令前面加一句<a href="https://arxiv.org/pdf/2205.11916v1.pdf">Let&rsquo;s think step by step</a>试试。</li>
</ul>
<h2 id="gpt-api使用指南">GPT API使用指南<a hidden class="anchor" aria-hidden="true" href="#gpt-api使用指南">#</a></h2>
<p>对于使用API的朋友，可玩性比网页版其实高一些，而且API的使用方式和网页版也有一些差别。</p>
<p>一个典型的调用如下所示</p>
<pre tabindex="0"><code>MODEL = &#34;gpt-3.5-turbo&#34;
response = openai.ChatCompletion.create(
    model=MODEL,
    messages=[
        {&#34;role&#34;: &#34;system&#34;, &#34;content&#34;: &#34;You are a helpful assistant.&#34;},
        {&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;Knock knock.&#34;},
        {&#34;role&#34;: &#34;assistant&#34;, &#34;content&#34;: &#34;Who&#39;s there?&#34;},
        {&#34;role&#34;: &#34;user&#34;, &#34;content&#34;: &#34;Orange.&#34;},
    ],
    temperature=0,
)
</code></pre><p>其中使用的是ChatCompletion这个方法（强烈推荐大家使用这个而不是单轮的Completion），model参数指定了模型，最主要的花头都在messages参数里。这个参数输入一个list of dict，每个字典表示一轮输入或输出，字典包含两个必须的元素role和content，还有一个可选的元素name。</p>
<p>system prompt（上面的第一条）很关键，在网页版是没有这个输入的。system prompt可以给对话设定一些基础的上下文信息，例如给模型定一个人设。GPT-4对system prompt会比gpt-3.5更加重视，如果使用3.5，那么OpenAI建议你把人设信息放在开头的user轮里。</p>
<p>前面提到给模型输入的样例也可以通过虚假的对话来呈现，例如</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># An example of a faked few-shot conversation to prime the model into translating business jargon to simpler speech</span>
</span></span><span style="display:flex;"><span>response <span style="color:#f92672">=</span> openai<span style="color:#f92672">.</span>ChatCompletion<span style="color:#f92672">.</span>create(
</span></span><span style="display:flex;"><span>    model<span style="color:#f92672">=</span>MODEL,
</span></span><span style="display:flex;"><span>    messages<span style="color:#f92672">=</span>[
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;system&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;You are a helpful, pattern-following assistant.&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Help me translate the following corporate jargon into plain English.&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;assistant&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Sure, I&#39;d be happy to!&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;New synergies will help drive top-line growth.&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;assistant&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Things working well together will increase revenue.&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Let&#39;s circle back when we have more bandwidth to touch base on opportunities for increased leverage.&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;assistant&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;Let&#39;s talk later when we&#39;re less busy about how to do better.&#34;</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#e6db74">&#34;role&#34;</span>: <span style="color:#e6db74">&#34;user&#34;</span>, <span style="color:#e6db74">&#34;content&#34;</span>: <span style="color:#e6db74">&#34;This late pivot means we don&#39;t have time to boil the ocean for the client deliverable.&#34;</span>},
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    temperature<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>这种玩法是网页版用户没法做到的，网页版提供的例子做few-shot实际上全是写在了某一个user轮里。</p>
<h2 id="进阶玩法">进阶玩法<a hidden class="anchor" aria-hidden="true" href="#进阶玩法">#</a></h2>
<p>这部分内容主要包含在<strong>Techniques to improve reliability</strong>这篇文档里，介绍了一些如果模型失效后的处理方法。</p>
<p>这里首先要树立的理念就是，<strong>上下文是会影响模型能力的</strong>。</p>
<p>第一招是所谓的<strong>化繁为简</strong>，就是把复杂的任务拆分成几个简单的任务。</p>
<p>例如下面这个让gpt用原始语言进行摘要的例子，如果你直接粗暴地说</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Summarize the text using the original language of the text<span style="color:#f92672">.</span> The summary should be one sentence long<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Text:
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">La estadística (la forma femenina del término alemán Statistik, derivado a su vez del italiano statista, &#34;hombre de Estado&#34;) es una ciencia que estudia la variabilidad, colección, organización, análisis, interpretación, y presentación de los datos, ...文本太长，省略
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Summary:
</span></span></code></pre></div><p>它会返回你一堆英语</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>The text explains that statistics <span style="color:#f92672">is</span> a science that studies the variability, collection, organization, analysis, interpretation, <span style="color:#f92672">and</span> presentation of data, <span style="color:#66d9ef">as</span> well <span style="color:#66d9ef">as</span> the random process that generates them following the laws of probability<span style="color:#f92672">.</span>
</span></span></code></pre></div><p>但如果你在前面让他先判断文本的语言，再摘要，他就能行，像下面这样</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>First, identify the language of the text<span style="color:#f92672">.</span> Second, summarize the text using the original language of the text<span style="color:#f92672">.</span> The summary should be one sentence long<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Text:
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">La estadística (la forma femenina del término alemán S...
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span></code></pre></div><p>第二招是让模型<strong>先解释理由再给出答案</strong>。这个基本就是COT了。其中zero-shot的方法就是刚才提到的在prompt里加上<code>Let's think step by step.</code>这个方法的详情可以参考<a href="https://arxiv.org/abs/2205.11916">这篇论文</a>。few-shot的方法我们在之前的文章里也介绍过，就是给几个思维链作为例子。</p>
<p><img loading="lazy" src="https://wyhhexo.oss-cn-hangzhou.aliyuncs.com/images202303252056221.png" alt="few-shot COT"  />
</p>
<p>第三招是fine-tune模型，这个方法很机智，是用模型来产生一大堆COT prompt，然后保留能获得正确答案的prompt，用这些数据来训练数据。finetune毕竟比较重，本文就不展开了，详情可以参考这篇论文<a href="https://arxiv.org/abs/2203.14465">STaR: Bootstrapping Reasoning With Reasoning</a>。</p>
<p>后面还有一些COT prompt的扩展，也令人大开眼界，但看后我感觉大部分学术味都比较浓，我只列举两个比较简单实用的。</p>
<h3 id="self-consistency">Self-consistency<a hidden class="anchor" aria-hidden="true" href="#self-consistency">#</a></h3>
<p><a href="https://arxiv.org/abs/2203.11171" title="Self-Consistency Improves Chain of Thought Reasoning in Language Models">这个方法</a>很好理解，就是用一个稍高的温度（增加模型的随机性）进行多次采样，然后进行多数投票。</p>
<p><img loading="lazy" src="https://wyhhexo.oss-cn-hangzhou.aliyuncs.com/202305041924765.png" alt="Self-consistency"  />
</p>
<h3 id="verifiers">Verifiers<a hidden class="anchor" aria-hidden="true" href="#verifiers">#</a></h3>
<p>这个方法来自论文<a href="https://arxiv.org/abs/2110.14168">Training Verifiers to Solve Math Word Problems</a>，适用于问题比较确定的场景，通过训练一个判别模型验证器，来选择合理的生成结果。</p>
<p><img loading="lazy" src="https://wyhhexo.oss-cn-hangzhou.aliyuncs.com/202305041953223.png" alt="Verifiers"  />
</p>
<p>训练判别器的数据来源于多次采样生成模型加人工标注，实验显示，几千条样本就可以显著提高模型的准确性。</p>
<p>不管这些方法的prompt多花哨，其核心点就是两个</p>
<ul>
<li>把难处理的问题分解成更小、模型更容易回答正确的问题</li>
<li>用多步推理或者多重关系来提升模型结果的准确性</li>
</ul>
<p>今天先写这么多，祝大家happy prompting😁</p>
<p>关注公众号发送cookbook，可以获取项目地址哦。下一期聊一聊怎么用自己的数据强化大模型。</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://www.yuanhao.site/tags/openai/">OpenAI</a></li>
      <li><a href="https://www.yuanhao.site/tags/chatgpt/">ChatGPT</a></li>
      <li><a href="https://www.yuanhao.site/tags/prompt/">prompt</a></li>
      <li><a href="https://www.yuanhao.site/tags/cookbook/">cookbook</a></li>
      <li><a href="https://www.yuanhao.site/tags/cot/">CoT</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://www.yuanhao.site/post/review/2023-05-07-vicuna-impression/">
    <span class="title">« Prev</span>
    <br>
    <span>Vicuna初体验</span>
  </a>
  <a class="next" href="https://www.yuanhao.site/post/deeplearning/2023-04-19-brute-force-is-miracle/">
    <span class="title">Next »</span>
    <br>
    <span>大力真的有奇迹</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on x"
            href="https://x.com/intent/tweet/?text=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97&amp;url=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f&amp;hashtags=openai%2cchatgpt%2cprompt%2ccookbook%2cCOT">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f&amp;title=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97&amp;summary=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97&amp;source=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f&title=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on whatsapp"
            href="https://api.whatsapp.com/send?text=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97%20-%20https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on telegram"
            href="https://telegram.me/share/url?text=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97&amp;url=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share OpenAI官方出品的ChatGPT调校指南你读了吗 on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=OpenAI%e5%ae%98%e6%96%b9%e5%87%ba%e5%93%81%e7%9a%84ChatGPT%e8%b0%83%e6%a0%a1%e6%8c%87%e5%8d%97%e4%bd%a0%e8%af%bb%e4%ba%86%e5%90%97&u=https%3a%2f%2fwww.yuanhao.site%2fpost%2fdeeplearning%2f2023-05-04-openai-cookbook%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://www.yuanhao.site">多头注意力</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
